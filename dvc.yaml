stages:
  preprocess_train:
    cmd: PYTHONPATH=. python src/dataprocessing/preprocessTrain.py
    deps:
    - data/training/fraudTrain.csv
    - src/dataprocessing/preprocessTrain.py
    outs:
    - outputs/preprocessed/train_preprocessed.csv
  train_model:
    cmd: PYTHONPATH=. python src/models/LogisticRegression.py
    deps:
    - outputs/preprocessed/train_preprocessed.csv
    - src/models/LogisticRegression.py
    outs:
    - outputs/models/logistic_model.pkl
    - outputs/models/logistic_model_run_metadata.json
    metrics:
    - outputs/metrics/logistic_metrics.json:
        cache: false
  promote_model:
    cmd: PYTHONPATH=. python src/models/PromoteLogisticRegression.py
    deps:
    - outputs/models/logistic_model_run_metadata.json